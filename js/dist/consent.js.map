{"version":3,"file":"consent.js","sources":["../../react/src/hooks/useConsent.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport type { ConsentState } from \"@types/consent\";\n\nconst defaultState: ConsentState = {\n  analytics: false,\n  timestamp: 0\n};\n\nexport function useConsent(): ConsentState {\n  const [state, setState] = useState<ConsentState>(defaultState);\n\n  useEffect(() => {\n    const consentApi = window.TheMoonExports?.Consent;\n    if (consentApi?.onReady) {\n      consentApi.onReady((next) => {\n        setState({ analytics: Boolean(next.analytics), timestamp: next.timestamp });\n      });\n    }\n  }, []);\n\n  return state;\n}\n"],"names":["defaultState","useConsent","state","setState","useState","useEffect","consentApi","_a","next"],"mappings":"+CAGA,MAAMA,EAA6B,CACjC,UAAW,GACX,UAAW,CACb,EAEO,SAASC,GAA2B,CACzC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAuBJ,CAAY,EAE7DK,OAAAA,EAAAA,UAAU,IAAM,OACd,MAAMC,GAAaC,EAAA,OAAO,iBAAP,YAAAA,EAAuB,QACtCD,GAAA,MAAAA,EAAY,SACdA,EAAW,QAASE,GAAS,CAC3BL,EAAS,CAAE,UAAW,EAAQK,EAAK,UAAY,UAAWA,EAAK,UAAW,CAC5E,CAAC,CAEL,EAAG,CAAA,CAAE,EAEEN,CACT"}
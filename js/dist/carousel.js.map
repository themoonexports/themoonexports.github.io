{"version":3,"file":"carousel.js","sources":["../../react/src/components/Carousel.tsx","../../react/src/entries/carousel.tsx"],"sourcesContent":["import { useState, useEffect, useCallback, useRef } from \"react\";\n\ninterface CarouselSlide {\n  image: string;\n  alt: string;\n  title: string;\n  subtitle: string;\n  loading?: \"eager\" | \"lazy\";\n  ctas: { label: string; href: string }[];\n}\n\nconst slides: CarouselSlide[] = [\n  {\n    image: \"images/one.jpg\",\n    alt: \"Premium handcrafted horn, wood and resin products\",\n    title: \"Premium Handcrafted Exports from India\",\n    subtitle: \"Custom horn, wood & resin creations for artists and luxury brands\",\n    loading: \"eager\",\n    ctas: [\n      { label: \"Get a Quote\", href: \"contact.html\" },\n      { label: \"Explore Crafts\", href: \"products.html\" }\n    ]\n  },\n  {\n    image: \"images/two.jpg\",\n    alt: \"Artisan craftsmanship shipped worldwide\",\n    title: \"Artisan Craftsmanship, Global Delivery\",\n    subtitle: \"Made in Sambhal, shipped worldwide\",\n    loading: \"lazy\",\n    ctas: [\n      { label: \"View Products\", href: \"products.html\" }\n    ]\n  }\n];\n\n/** Minimum horizontal swipe distance (px) to trigger a slide change */\nconst SWIPE_THRESHOLD = 50;\n\nexport function Carousel(): JSX.Element {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const touchStartX = useRef<number | null>(null);\n  const touchStartY = useRef<number | null>(null);\n\n  const goToSlide = useCallback((index: number) => {\n    setActiveIndex(index);\n  }, []);\n\n  const goToPrevious = useCallback(() => {\n    setActiveIndex((current) => (current === 0 ? slides.length - 1 : current - 1));\n  }, []);\n\n  const goToNext = useCallback(() => {\n    setActiveIndex((current) => (current === slides.length - 1 ? 0 : current + 1));\n  }, []);\n\n  // Auto-advance every 5 seconds\n  useEffect(() => {\n    const interval = setInterval(goToNext, 5000);\n    return () => clearInterval(interval);\n  }, [goToNext]);\n\n  // Keyboard navigation (arrow keys)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"ArrowLeft\") goToPrevious();\n      if (e.key === \"ArrowRight\") goToNext();\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [goToPrevious, goToNext]);\n\n  // Touch swipe handlers\n  const handleTouchStart = useCallback((e: React.TouchEvent) => {\n    touchStartX.current = e.touches[0].clientX;\n    touchStartY.current = e.touches[0].clientY;\n  }, []);\n\n  const handleTouchEnd = useCallback((e: React.TouchEvent) => {\n    if (touchStartX.current === null || touchStartY.current === null) return;\n    const deltaX = e.changedTouches[0].clientX - touchStartX.current;\n    const deltaY = e.changedTouches[0].clientY - touchStartY.current;\n    // Only treat as a horizontal swipe when horizontal movement dominates\n    if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) >= SWIPE_THRESHOLD) {\n      if (deltaX < 0) goToNext();\n      else goToPrevious();\n    }\n    touchStartX.current = null;\n    touchStartY.current = null;\n  }, [goToNext, goToPrevious]);\n\n  /** Activate a button-role element on Enter or Space, preventing default scroll. */\n  const makeKeyActivator = useCallback(\n    (action: () => void) => (e: React.KeyboardEvent) => {\n      if (e.key === \"Enter\" || e.key === \" \") {\n        e.preventDefault();\n        action();\n      }\n    },\n    []\n  );\n\n  return (\n    <div\n      className=\"carousel slide\"\n      data-ride=\"carousel\"\n      role=\"region\"\n      aria-label=\"Featured products\"\n      onTouchStart={handleTouchStart}\n      onTouchEnd={handleTouchEnd}\n    >\n      {/* Indicators */}\n      <ol className=\"carousel-indicators\">\n        {slides.map((_, index) => (\n          <li\n            key={index}\n            className={index === activeIndex ? \"active\" : \"\"}\n            onClick={() => goToSlide(index)}\n            onKeyDown={makeKeyActivator(() => goToSlide(index))}\n            tabIndex={0}\n            role=\"button\"\n            aria-label={`Go to slide ${index + 1}`}\n            aria-current={index === activeIndex ? \"true\" : undefined}\n          />\n        ))}\n      </ol>\n\n      {/* Slides */}\n      <div className=\"carousel-inner\" role=\"group\" aria-live=\"polite\">\n        {slides.map((slide, index) => (\n          <div key={index} className={`item ${index === activeIndex ? \"active\" : \"\"}`}>\n            <img\n              src={slide.image}\n              alt={slide.alt}\n              loading={slide.loading}\n              width={1200}\n              height={600}\n            />\n            <div className=\"carousel-caption\">\n              <h2>\n                <strong>{slide.title}</strong>\n              </h2>\n              <p className=\"carousel-subtitle\">{slide.subtitle}</p>\n              {slide.ctas.map((cta, i) => (\n                <a key={i} className=\"slidebtn btn-crafts\" href={cta.href}>\n                  {cta.label}\n                </a>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Controls */}\n      <a\n        className=\"left carousel-control\"\n        onClick={goToPrevious}\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={makeKeyActivator(goToPrevious)}\n        aria-label=\"Previous slide\"\n      >\n        <span className=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\" />\n      </a>\n      <a\n        className=\"right carousel-control\"\n        onClick={goToNext}\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={makeKeyActivator(goToNext)}\n        aria-label=\"Next slide\"\n      >\n        <span className=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\" />\n      </a>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { Carousel } from \"@components/Carousel\";\n\n/**\n * Carousel Entry Point\n * Hydrates hero image slider\n */\n\nfunction initCarousel() {\n  const container = document.querySelector<HTMLElement>('[data-react=\"carousel\"]');\n  \n  if (!container) {\n    console.warn('Carousel: No container found with data-react=\"carousel\"');\n    return;\n  }\n\n  try {\n    const root = createRoot(container);\n    root.render(\n      <StrictMode>\n        <Carousel />\n      </StrictMode>\n    );\n    console.log('Carousel: React component hydrated successfully');\n  } catch (error) {\n    console.error('Carousel: Hydration failed', error);\n  }\n}\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initCarousel);\n} else {\n  initCarousel();\n}\n"],"names":["slides","SWIPE_THRESHOLD","Carousel","activeIndex","setActiveIndex","useState","touchStartX","useRef","touchStartY","goToSlide","useCallback","index","goToPrevious","current","goToNext","useEffect","interval","handleKeyDown","e","handleTouchStart","handleTouchEnd","deltaX","deltaY","makeKeyActivator","action","jsxs","jsx","_","slide","cta","i","initCarousel","container","createRoot","StrictMode","error"],"mappings":"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"}